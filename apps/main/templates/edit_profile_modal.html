<div id="edit-profile-modal"
	class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300">

	<div class="bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-95 opacity-0"
		id="edit-modal-content">

		<div class="flex justify-between items-center mb-6">
			<h3 class="text-2xl font-semibold text-gray-900">Edit Your Profile</h3>
			<button type="button" onclick="closeEditModal()" class="text-gray-400 hover:text-gray-600">
				<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
					<path fill-rule="evenodd"
						d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
						clip-rule="evenodd"></path>
				</svg>
			</button>
		</div>

		<div id="edit-profile-error" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4"
			role="alert">
		</div>

		<form id="edit-profile-form" method="POST" action="{% url 'main:edit_profile' user.username %}">
			{% csrf_token %}
			<div class="space-y-5"> {# Spasi antar elemen form disamakan #}
				<div>
					<label for="username" class="block text-base font-medium text-gray-700 mb-1">Username</label>
					<input type="text" id="edit-username" name="username" value="{{ user.username }}" required
						class="w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"> {# Styling disamakan: px-4 py-2, rounded-lg #}
				</div>

				<div>
					<label for="base_location" class="block text-base font-medium text-gray-700 mb-1">Base Location</label>
					<select id="edit-location" name="base_location"
						class="w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"> {# Styling disamakan: px-4 py-2, rounded-lg #}
						{% for value, display in location_choices %}
						<option value="{{ value }}" {% if user.runner.base_location == value %}selected{% endif %}>
							{{ display }}
						</option>
						{% endfor %}
					</select>
				</div>

				<div class="flex justify-end space-x-3 pt-4">
					<button type="button" onclick="closeEditModal()"
						class="px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50"> {# Styling Tombol Cancel disamakan #}
						Cancel
					</button>
					<button id="edit-profile-save-button" type="submit"
						class="px-6 py-2 bg-[#A0E228] text-gray-800 font-medium rounded-lg hover:bg-[#8CD022] flex items-center justify-center"> {# Styling Tombol Save disamakan (Hijau dengan teks gelap) #}
						<span id="save-button-text">Save Changes</span>
						<svg id="save-spinner" class="hidden animate-spin h-5 w-5 text-gray-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"> {# Warna spinner diubah ke teks gelap #}
							<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
							<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
						</svg>
					</button>
				</div>
			</div>
		</form>

	</div>
</div>